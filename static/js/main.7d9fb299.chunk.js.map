{"version":3,"sources":["../node_modules/subsrt/lib/format sync /^/.//.*/.js$","player.js","App.js","serviceWorker.js","index.js"],"names":["map","./ass.js","./json.js","./lrc.js","./sbv.js","./smi.js","./srt.js","./ssa.js","./sub.js","./vtt.js","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","module","exports","require","videojs","VideoPlayer","componentDidMount","_this","props","onRef","assertThisInitialized","app","player","videoNode","autoplay","controls","sources","aspectRatio","playbackRates","controlBar","children","on","hotkeys","volumeStep","seekStep","enableModifiersForNumbers","Promise","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","reject","folderId","subtitleId","subtitle","wrap","_context","prev","next","getFolderId","state","curItem","sent","getSubtitleId","getSubtitle","updateSubtitle","stop","_x","_x2","apply","this","arguments","err","console","error","playNextRes","textTracks","length","removeRemoteTextTrack","addRemoteTextTrack","src","default","srclang","mode","setState","dispose","_this2","react_default","createElement","data-vjs-player","ref","node","className","style","fontSize","React","Component","SCOPES","resolutions","postfix","label","METAINFO_FILENAME","SUBTITLE_FILENAME","LogoutDialog","open","handleClickOpen","handleClose","handleYes","gapi","auth2","getAuthInstance","signOut","Dialog_default","onClose","aria-labelledby","aria-describedby","DialogTitle_default","DialogContent_default","DialogContentText_default","DialogActions_default","Button_default","onClick","color","TopBar","handleTopLeft","curPage","logoutDialog","changePage","render","title","topLeft","classes","currentUser","get","getBasicProfile","getEmail","Menu_default","curAlbum","Icon_default","filename","root","App_LogoutDialog","d","AppBar_default","position","Toolbar_default","IconButton_default","menuButton","aria-label","Typography_default","variant","noWrap","grow","search","searchIcon","Search_default","InputBase_default","placeholder","inputRoot","input","inputInput","withStyles","theme","width","flexGrow","marginLeft","marginRight","defineProperty","display","breakpoints","up","borderRadius","shape","backgroundColor","fade","palette","common","white","&:hover","spacing","unit","height","pointerEvents","alignItems","justifyContent","paddingTop","paddingRight","paddingBottom","paddingLeft","transition","transitions","create","&:focus","App","isSignedIn","albums","mediaItems","nextResIdx","refreshPlayer","script","document","onload","_this3","window","load","client","init","apiKey","packageJson","API_KEY","clientId","CLIENT_ID","discoveryDocs","DISCOVERY_DOCS","scope","listen","updateSigninStatus","body","appendChild","handleSigninClick","event","signIn","handleSignoutClick","handleAlbumClick","album","getMediaItems","handleItemClick","item","getMediaItem","handleDelSubtitleClick","_callee2","_context2","abrupt","delSubtitle","getAlbums","page","_callee3","response","_context3","request","path","method","status","result","sort","l","r","localeCompare","_callee4","albumId","_context4","params","_callee5","itemId","_context5","onDropAccepted","files","file","reader","FileReader","_ref6","_callee6","buf","encoding","vtt","_context6","arrayBufferToBuffer","chardet","detect","iconv","decode","name","endsWith","smi2vtt","subsrt","convert","format","replace","setSubtitle","_x3","readAsArrayBuffer","onDropRejected","_callee7","_context7","_callee8","drive","_context8","list","q","spaces","fields","mimeType","parents","t0","getMetaInfoId","_callee9","metaInfoId","_context9","getMetaInfo","_callee10","metaInfo","_context10","fileId","alt","JSON","parse","setMetaInfo","_callee11","_context11","uploadType","log","_callee12","_context12","_callee13","_context13","videoPlayer","_callee14","_context14","content","App_TopBar","demo","List_default","ListItem_default","button","key","ListItemIcon_default","Folder_default","ListItemText_default","primary","videoListRender","videoItems","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","done","value","startsWith","push","return","Grid_default","container","direction","justify","gridContainer","minHeight","CardContent_default","gutterBottom","i","baseUrl","type","baseStyle","borderWidth","borderColor","borderStyle","activeStyle","xs","padding","v","es","accept","_ref15","getRootProps","getInputProps","isDragActive","styles","objectSpread","assign","Delete_default","rightIcon","maxWidth","background","paper","margin","concat","Boolean","location","hostname","match","ReactDOM","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.7d9fb299.chunk.js","sourcesContent":["var map = {\n\t\"./ass.js\": 249,\n\t\"./json.js\": 250,\n\t\"./lrc.js\": 251,\n\t\"./sbv.js\": 252,\n\t\"./smi.js\": 253,\n\t\"./srt.js\": 254,\n\t\"./ssa.js\": 103,\n\t\"./sub.js\": 255,\n\t\"./vtt.js\": 256\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 248;","import React from 'react';\nimport './App.css';\nimport videojs from 'video.js';\nimport 'video.js/dist/video-js.css';\nimport 'videojs-hotkeys/videojs.hotkeys';\n\n// The following registers the plugin with `videojs`\nrequire('silvermine-videojs-quality-selector')(videojs);\n\nclass VideoPlayer extends React.Component {\n  componentDidMount = () => {\n    this.props.onRef(this);\n    const app = this.props.app;\n    \n    this.player = videojs(this.videoNode, {\n      autoplay: true,\n      controls: true,\n      sources: this.props.sources,\n      aspectRatio: '16:9',\n      playbackRates: [0.5, 1, 1.25, 1.5, 2],\n      controlBar: {\n        children: [\n          'playToggle',\n          'volumePanel',\n          // 'currentTimeDisplay',\n          // 'durationDisplay',\n          'progressControl',\n          'subtitlesButton',\n          // 'CaptionsButton',\n          'playbackRateMenuButton',\n          'qualitySelector',\n          'fullscreenToggle',\n        ],\n      },\n    });\n\n    this.player.on('ready', () => {\n      // hotkey\n      this.player.hotkeys({\n        volumeStep: 0.1,\n        seekStep: 5,\n        enableModifiersForNumbers: false,\n      });\n      \n      // subtitle\n      new Promise(async (resolve, reject) => {\n        const folderId = await app.getFolderId(app.state.curItem.id);\n        const subtitleId = await app.getSubtitleId(folderId);\n        const subtitle = await app.getSubtitle(subtitleId);\n        if(subtitle)  this.updateSubtitle(subtitle);\n        resolve();\n      });\n    });\n    \n    this.player.on('error', err => {\n      console.error(err);\n      // assume error occurs because there's no correspond resolution\n      app.playNextRes();\n    });\n  }\n\n  updateSubtitle = subtitle => {\n    // remove previous one\n    let textTracks = this.player.textTracks();\n    if(textTracks.length > 0) {\n      this.player.removeRemoteTextTrack(textTracks[0]);\n    }\n\n    // use data url\n    this.player.addRemoteTextTrack({\n      src: 'data:text/plain,' + subtitle,\n      default: true,\n      srclang: 'ko',\n    }, false);\n\n    // show the new one\n    textTracks = this.player.textTracks();\n    textTracks[0].mode = 'showing';\n\n    // update for app\n    this.props.app.setState({subtitle});\n  }\n\n  // destroy player on unmount\n  componentWillUnmount() { if (this.player) this.player.dispose() }\n\n  render() {\n    // wrap the player in a div with a `data-vjs-player` attribute\n    // so videojs won't create additional wrapper in the DOM\n    // see https://github.com/videojs/video.js/pull/3856\n    return (\n      <div>\n        <div data-vjs-player>\n          <video\n            ref={ node => this.videoNode = node }\n            className=\"video-js\"\n            style={{fontSize: '13px'}}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default VideoPlayer;","import React, { Component } from 'react';\nimport './App.css';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport 'typeface-roboto';\nimport InputBase from '@material-ui/core/InputBase';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport { withStyles } from '@material-ui/core/styles';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport Grid from '@material-ui/core/Grid';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Dropzone from 'react-dropzone';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport iconv from 'iconv-lite';\nimport packageJson from '../package.json';\nimport VideoPlayer from './player';\nimport chardet from 'chardet';\nimport arrayBufferToBuffer from 'arraybuffer-to-buffer';\nimport subsrt from 'subsrt';\nimport smi2vtt from 'smi2vtt/dist/parse';\n\n// Authorization scopes required by the API; multiple scopes can be\n// included, separated by spaces.\nvar SCOPES = 'https://www.googleapis.com/auth/drive.appdata';\nSCOPES += ' https://www.googleapis.com/auth/photoslibrary.readonly';\n\n// video resolutions\n// Video streaming is not officially supported for now.\n// The following is a trick from Picasa era.\n// '=m37' (1080p)\n// '=m22' (720p)\n// '=m18' (360p)\n// more info: https://wordpress.org/support/topic/google-photos-videos-not-playing-in-any-lightbox-type/    // server part\nconst resolutions = [\n  {postfix: '=m37', label: '1080p'},\n  {postfix: '=m22', label: '720p'},\n  {postfix: '=m18', label: '360p'},\n];\n\n// filenames\nconst METAINFO_FILENAME = 'meta.json';\nconst SUBTITLE_FILENAME = 'captions.vtt';\n\nclass LogoutDialog extends React.Component {\n  state = {\n    open: false,\n  };\n\n  componentDidMount = () => this.props.onRef(this)\n  handleClickOpen = () => this.setState({ open: true })\n  handleClose = () => this.setState({ open: false })\n  handleYes = () => {\n    this.setState({ open: false });\n    this.props.app.gapi.auth2.getAuthInstance().signOut();\n  }\n\n  render() {\n    return (\n      <Dialog\n        open={this.state.open}\n        onClose={this.handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"Use Google's location service?\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Logout?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.handleYes} color=\"primary\">\n            Yes\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nconst topBarStyles = theme => ({\n  root: {\n    width: '100%',\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n  },\n  title: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing.unit,\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    width: theme.spacing.unit * 9,\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n    width: '100%',\n  },\n  inputInput: {\n    paddingTop: theme.spacing.unit,\n    paddingRight: theme.spacing.unit,\n    paddingBottom: theme.spacing.unit,\n    paddingLeft: theme.spacing.unit * 10,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: 120,\n      '&:focus': {\n        width: 200,\n      },\n    },\n  },\n});\n\nclass TopBar extends Component {\n  handleTopLeft = () => {\n    const app = this.props.app;\n    if(app.state.curPage === 'main') {\n      this.logoutDialog.setState({open: true});\n    } else if(app.state.curPage === 'album') {\n      app.changePage('main');\n    } else if(app.state.curPage === 'play') {\n      app.changePage('album');\n    }\n  }\n  render = () => {\n    const {classes} = this.props;\n    const app = this.props.app;\n  \n    // set title, top-left icon\n    let title, topLeft;\n    if(app.state.curPage === 'main') {\n      const auth2 =  app.gapi.auth2.getAuthInstance();\n      title = auth2.currentUser.get().getBasicProfile().getEmail();\n      topLeft = <MenuIcon />;\n    } else if(app.state.curPage === 'album') {\n      title = app.state.curAlbum.title;\n      topLeft = <Icon>arrow_back</Icon>;\n    } else if(app.state.curPage === 'play') {\n      title = app.state.curItem.filename || '';\n      topLeft = <Icon>arrow_back</Icon>;\n    }\n  \n    return (\n      <div className={classes.root}>\n        <LogoutDialog onRef={d => {this.logoutDialog = d}} app={this.props.app} />\n        <AppBar position=\"fixed\">\n          <Toolbar>\n            <IconButton\n              className={classes.menuButton}\n              color=\"inherit\"\n              aria-label=\"Open drawer\"\n              onClick={() => this.handleTopLeft()}\n            >\n              {topLeft}\n            </IconButton>\n            <Typography className={classes.title} variant=\"h6\" color=\"inherit\" noWrap>\n              {title}\n            </Typography>\n            <div className={classes.grow} />\n            <div className={classes.search}>\n              <div className={classes.searchIcon}>\n                <SearchIcon />\n              </div>\n              <InputBase\n                placeholder=\"Search…\"\n                classes={{\n                  root: classes.inputRoot,\n                  input: classes.inputInput,\n                }}\n              />\n            </div>\n          </Toolbar>\n        </AppBar>\n      </div>\n    );\n  }\n}\n\nTopBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nTopBar = withStyles(topBarStyles)(TopBar);\n\nconst appStyles = theme => ({\n  root: {\n    flexGrow: 1,\n    maxWidth: '96vw',\n  },\n  demo: {\n    backgroundColor: theme.palette.background.paper,\n  },\n  title: {\n    margin: `${theme.spacing.unit * 4}px 0 ${theme.spacing.unit * 2}px`,\n  },\n});\n\nclass App extends Component {\n  state = {\n    isSignedIn: false,\n    curPage: 'loading',\n    albums: [],\n    curAlbum: {},\n    mediaItems: [],\n    curItem: null,\n    nextResIdx: 0,   // resolution index to try\n    refreshPlayer: false,     // a trigger to refresh video player\n    subtitle: '',\n  }\n\n  componentDidMount = () => {\n    let script;\n\n    // google apis\n    script = document.createElement('script');\n    script.src = 'https://apis.google.com/js/api.js';\n    script.onload = () => {\n      this.gapi = window.gapi;\n      this.gapi.load('client:auth2', async () => {\n        // init\n        await this.gapi.client.init({\n          apiKey: packageJson.API_KEY,\n          clientId: packageJson.CLIENT_ID,\n          discoveryDocs: packageJson.DISCOVERY_DOCS,\n          scope: SCOPES,\n        });\n        \n        // Set listener\n        this.gapi.auth2.getAuthInstance().isSignedIn.listen(this.updateSigninStatus);\n\n        // Handle the initial sign-in state.\n        this.updateSigninStatus(this.gapi.auth2.getAuthInstance().isSignedIn.get());\n      });\n    };\n    document.body.appendChild(script);\n  }\n\n  handleSigninClick = event => this.gapi.auth2.getAuthInstance().signIn()\n  handleSignoutClick = event => this.gapi.auth2.getAuthInstance().signOut()\n  handleAlbumClick = album => {\n    this.getMediaItems(album.id);\n    this.setState({curAlbum: album});\n    this.changePage('album');\n  }\n  handleItemClick = item => {\n    this.getMediaItem(item.id);\n    this.changePage('play');\n  }\n  handleDelSubtitleClick = async () => {\n    const folderId = await this.getFolderId(this.state.curItem.id);\n    const subtitleId = await this.getSubtitleId(folderId);\n    return this.delSubtitle(subtitleId);\n  }\n  \n  updateSigninStatus = isSignedIn => {\n    if(isSignedIn) {\n      // go to main page\n      this.changePage('main');\n\n      // fetch album list\n      this.getAlbums();\n    } else {\n      this.changePage('signin');\n    }\n    this.setState({isSignedIn});\n  }\n\n  changePage = page => {\n    let state = {curPage: page};\n\n    // clean up when leaving 'play'\n    if(this.state.curPage === 'play') {\n      //-- leaving play --//\n      state.curItem = null;\n      state.nextResIdx = 0;\n      state.subtitle = '';\n    }\n\n    this.setState(state);\n  }\n\n  getAlbums = async () => {\n    const response = await this.gapi.client.request({\n      path: 'https://photoslibrary.googleapis.com/v1/albums',\n      method: 'GET',\n    });\n    if(response.status === 200) {\n      //-- success --//\n      let albums = response.result.albums;\n\n      // sort\n      albums.sort((l, r) => ('' + l.title).localeCompare(r.title));\n\n      // save\n      this.setState({albums});\n    } else {\n      //-- error --//\n      console.error(response);\n    }\n  }\n\n  getMediaItems = async albumId => {\n    const response = await this.gapi.client.request({\n      path: 'https://photoslibrary.googleapis.com/v1/mediaItems:search',\n      method: 'POST',\n      params: {albumId},\n    });\n    if(response.status === 200) {\n      //-- success --//\n      const mediaItems = response.result.mediaItems;\n\n      // sort\n      mediaItems.sort((l, r) => ('' + l.filename).localeCompare(r.filename));\n\n      // get metainfo\n      // This make User Rate Limit Exceeded. Find a way to get around.\n      // let proms = [];\n      // for(const mediaItem of mediaItems) {\n      //   proms.push(new Promise(async (resolve, reject) => {\n      //     const folderId = await this.getFolderId(mediaItem.id);\n      //     const metaInfoId = await this.getMetaInfoId(folderId);\n      //     const metaInfo = await this.getMetaInfo(metaInfoId);\n      //     // alias\n      //     mediaItem.alias = metaInfo.alias;\n      //   }));\n      // }\n      // await Promise.all(proms);\n\n      // save\n      this.setState({mediaItems});\n    } else {\n      //-- error --//\n      console.error(response);\n    }\n  }\n\n  getMediaItem = async itemId => {\n    const response = await this.gapi.client.request({\n      path: 'https://photoslibrary.googleapis.com/v1/mediaItems/' + itemId,\n      method: 'GET',\n    });\n    if(response.status === 200) {\n      //-- success --//\n      this.setState({curItem: response.result});\n    } else {\n      //-- error --//\n      console.error(response);\n    }\n  }\n\n  onDropAccepted = files => {\n    const file = files[0];\n    const reader = new FileReader();\n\n    reader.onload = async event => {\n      let buf = arrayBufferToBuffer(reader.result);\n      const encoding = chardet.detect(buf);\n      \n      // adjust encoding\n      buf = iconv.decode(buf, encoding);\n      \n      // convert to .vtt\n      let vtt;\n      if(file.name.endsWith('.smi')) {\n        vtt = smi2vtt(buf);\n      } else {\n        vtt = subsrt.convert(buf, {format: 'vtt'});\n      }\n      \n      // `subsrt` produces timestamp using comma(,). Fix it.\n      vtt = vtt.replace(/([0-9]),([0-9])/g, '$1.$2');\n\n      // upload\n      const folderId = await this.getFolderId(this.state.curItem.id);\n      const subtitleId = await this.getSubtitleId(folderId);\n      await this.setSubtitle(subtitleId, vtt);\n    }\n\n    reader.readAsArrayBuffer(file);\n  }\n\n  \n  \n  onDropRejected = files => {\n    console.error('Rejected:', files);\n  }\n\n  playNextRes = async () => {\n    // unmount video player\n    await this.setState({refreshPlayer: true});\n\n    // remount with next resolution list\n    this.setState({nextResIdx: this.state.nextResIdx+1, refreshPlayer: false});\n  }\n\n  // get the id of folder that contains some data for 'item' in Drive\n  getFolderId = async itemId => {\n    const drive = this.gapi.client.drive;\n    let response, folderId;\n\n    // check if the folder exists\n    response = await drive.files.list({\n      // parents: ['appDataFolder'],\n      q: 'name=\"' + itemId + '\" and mimeType=\"application/vnd.google-apps.folder\"',\n      spaces: 'appDataFolder',\n      fields: 'files(id, name, mimeType)',\n    });\n    const files = response.result.files;\n    if (files && files.length > 0) {\n      //-- found --//\n      folderId = files[0].id;\n    } else {\n      //-- not found --//\n      // create one\n      response = await drive.files.create({\n        name: itemId,\n        mimeType: 'application/vnd.google-apps.folder',\n        parents: ['appDataFolder'],\n        fields: 'id',\n      });\n      switch(response.status) {\n        case 200:\n          const file = response.result;\n          folderId = file.id;\n          break;\n        default:\n          console.error('Error creating the folder, ' + response);\n          break;\n      }\n    }\n\n    return folderId;\n  }\n\n  // get the metaInfo id\n  getMetaInfoId = async folderId => {\n    const drive = this.gapi.client.drive;\n    let response, metaInfoId;\n\n    // check if the folder exists\n    response = await drive.files.list({\n      parents: [folderId],\n      q: 'name=\"' + METAINFO_FILENAME + '\" and \"' + folderId + '\" in parents',\n      spaces: 'appDataFolder',\n      fields: 'files(id)',\n    });\n    const files = response.result.files;\n    if (files && files.length > 0) {\n      //-- found --//\n      metaInfoId = files[0].id;\n    } else {\n      //-- not found --//\n      // create one\n      response = await drive.files.create({\n        name: METAINFO_FILENAME,\n        // mimeType: 'application/vnd.google-apps.folder',\n        parents: [folderId],\n        // fields: 'id',\n      });\n      switch(response.status) {\n        case 200:\n          const file = response.result;\n          metaInfoId = file.id;\n          break;\n        default:\n          console.error('Error creating the folder, ' + response);\n          break;\n      }\n    }\n\n    return metaInfoId;\n  }\n\n  // get the meta info\n  getMetaInfo = async metaInfoId => {\n    const drive = this.gapi.client.drive;\n    let response, metaInfo = {};\n    \n    // download\n    response = await drive.files.get({\n      fileId: metaInfoId,\n      alt: 'media'\n    });\n    switch(response.status) {\n      case 200:\n        metaInfo = JSON.parse(response.body);\n        break;\n      default:\n        console.error('Error creating the folder, ' + response);\n        break;\n    }\n\n    return metaInfo;\n  }\n\n  // set meta info(overwrite)\n  // metaInfo: {}\n  setMetaInfo = async (metaInfoId, metaInfo) => {\n    // write\n    const response = await this.gapi.client.request({\n      path: '/upload/drive/v3/files/' + metaInfoId,\n      method: 'PATCH',\n      params: {\n        uploadType: 'media'\n      },\n      body: metaInfo\n    });\n    switch(response.status) {\n      case 200:\n        console.log('Written.');\n        break;\n      default:\n        throw new Error('Error creating the folder, ' + response);\n    }\n  }\n\n  getSubtitleId = async folderId => {\n    const drive = this.gapi.client.drive;\n    let response, subtitleId;\n\n    // check if the folder exists\n    response = await drive.files.list({\n      parents: [folderId],\n      q: 'name=\"' + SUBTITLE_FILENAME + '\" and \"' + folderId + '\" in parents',\n      spaces: 'appDataFolder',\n      fields: 'files(id, webContentLink, webViewLink)',\n    });\n    const files = response.result.files;\n    if (files && files.length > 0) {\n      //-- found --//\n      subtitleId = files[0].id;\n    } else {\n      //-- not found --//\n      // create one\n      response = await drive.files.create({\n        name: SUBTITLE_FILENAME,\n        // mimeType: 'application/vnd.google-apps.folder',\n        parents: [folderId],\n        // fields: 'id',\n      });\n      switch(response.status) {\n        case 200:\n          const file = response.result;\n          subtitleId = file.id;\n          break;\n        default:\n          console.error('Error creating the folder, ' + response);\n          break;\n      }\n    }\n\n    return subtitleId;\n  }\n\n  setSubtitle = async (subtitleId, subtitle) => {\n    const response = await this.gapi.client.request({\n      path: '/upload/drive/v3/files/' + subtitleId,\n      method: 'PATCH',\n      params: {\n        uploadType: 'media'\n      },\n      body: subtitle\n    });\n    switch(response.status) {\n      case 200:\n        console.log('Written.');\n        if(this.state.curPage === 'play') {\n          this.videoPlayer.updateSubtitle(subtitle);\n        }\n        break;\n      default:\n        throw new Error('Error creating the folder, ' + response);\n    }\n  }\n\n  // just make it empty\n  delSubtitle = subtitleId => this.setSubtitle(subtitleId, '')\n\n  getSubtitle = async subtitleId => {\n    const drive = this.gapi.client.drive;\n    let response, subtitle = '';\n    \n    // download\n    response = await drive.files.get({\n      fileId: subtitleId,\n      alt: 'media'\n    });\n    switch(response.status) {\n      case 200:\n        subtitle = response.body;\n        break;\n      default:\n        console.error('Error creating the folder, ' + response);\n        break;\n    }\n\n    return subtitle;\n  }\n\n  render = () => {\n    const { classes } = this.props;\n    let content;\n\n    if(this.state.curPage === 'loading') {\n      content = (<div>Loading</div>);\n    } else if(this.state.curPage === 'signin') {\n      content = (\n        <Button\n          variant=\"outlined\"\n          color=\"primary\"\n          onClick={() => this.handleSigninClick()}\n        >\n          Sign In\n        </Button>\n      );\n    } else if(this.state.curPage === 'main') {\n      //-- list albums --//\n      content = (\n        <div>\n          <TopBar app={this}/>\n          <div className={classes.demo}>\n            <List>\n              {this.state.albums.map(album =>\n                <ListItem\n                  button\n                  onClick={() => this.handleAlbumClick(album)}\n                  key={album.id}\n                >\n                  <ListItemIcon>\n                    <FolderIcon />\n                  </ListItemIcon>\n                  <ListItemText\n                    primary={album.title}\n                  />\n                </ListItem>\n              )}\n            </List>\n          </div>\n        </div>\n      );\n    } else if(this.state.curPage === 'album') {\n      //-- list video items --//\n      // filter out non-video items\n      let videoItems = [];\n      for(let item of this.state.mediaItems) {\n        if(item.mimeType.startsWith('video')) {\n          videoItems.push(item);\n        }\n      }\n\n      // build video list rendering\n      let videoListRender;\n      if(videoItems.length > 0) {\n        // more than 0 items\n        videoListRender = (\n          <List>\n            {videoItems.map(item =>\n              <ListItem\n                button\n                onClick={() => this.handleItemClick(item)}\n                key={item.id}\n              >\n                <ListItemIcon>\n                  <Icon>movie</Icon>\n                </ListItemIcon>\n                <ListItemText\n                  primary={item.filename}\n                />\n              </ListItem>\n            )}\n          </List>\n        );\n      } else {\n        // no item\n        videoListRender = (\n          <Grid\n            container\n            direction='column'\n            justify='space-between'\n            alignItems='center'\n            className={classes.gridContainer}\n            style={{minHeight: '100vh'}}\n          >\n            <Grid item></Grid>\n            <Grid item>\n              <CardContent>\n                <Typography gutterBottom style={{fontSize: '10vw'}}>\n                  텅 비었음!\n                </Typography>\n              </CardContent>\n            </Grid>\n            <Grid item></Grid>\n          </Grid>\n        );\n      }\n\n      // list media items in an album\n      content = (\n        <div>\n          <TopBar app={this} />\n          <div className={classes.demo}>\n            {videoListRender}\n          </div>\n        </div>\n      );\n    } else if(this.state.curPage === 'play') {\n      //-- play the video --//\n      if(this.state.curItem) {\n        if(this.state.nextResIdx >= resolutions.length) {\n          console.error('no resolution available');\n          return;\n        }\n\n        // setup sources\n        const item = this.state.curItem;\n        let sources = [];\n        for(let i=this.state.nextResIdx;i<resolutions.length;i++) {\n          sources.push({\n            src: item.baseUrl + resolutions[i].postfix,\n            type: item.mimeType,\n            label: resolutions[i].label,\n          });\n        }\n\n        // dropzone styles\n        const baseStyle = {\n          // width: 480,\n          height: 100,\n          borderWidth: 5,\n          borderColor: '#666',\n          borderStyle: 'dashed',\n          borderRadius: 5\n        };\n        const activeStyle = {\n          borderStyle: 'solid',\n          borderColor: '#6c6',\n          backgroundColor: '#eee'\n        };\n\n        content = (\n          <div>\n            <TopBar app={this} />\n            <div className={classes.demo}>\n              <Grid\n                container\n                direction='row'\n                justify='space-evenly'\n                alignItems='center'\n                className={classes.gridContainer}\n              >\n                <Grid item xs={12} style={{padding:10}}>\n                  {!this.state.refreshPlayer &&\n                    <VideoPlayer\n                      onRef={v => {this.videoPlayer = v}}\n                      sources={sources} app={this}\n                    />\n                  }\n                </Grid>\n                <Grid item xs={8} style={{padding:10}}>\n                  <Dropzone\n                    accept={['.smi', '.srt', '.vtt']}\n                    onDropAccepted={this.onDropAccepted}\n                    onDropRejected={this.onDropRejected}\n                  >\n                    {({getRootProps, getInputProps, isDragActive}) => {\n                      let styles = {...baseStyle};\n                      styles = isDragActive ? {...styles, ...activeStyle} : styles;\n                      return (\n                        <div\n                          {...getRootProps()}\n                          style={styles}\n                        >\n                          <input {...getInputProps()} />\n                          <Grid\n                            container\n                            justify='center'\n                            alignItems='center'\n                            style={{height:'100%'}}\n                          >\n                            <Grid item>\n                              <Typography variant=\"h4\">\n                                <Icon fontSize='large'>subtitles</Icon>\n                                {this.state.subtitle ? '자막 있음' : '자막 끌어놓기'}\n                              </Typography>\n                            </Grid>\n                          </Grid>\n                        </div>\n                      )\n                    }}\n                  </Dropzone>\n                </Grid>\n                {this.state.subtitle &&\n                  <Grid item xs={4}>\n                    <Button\n                      variant=\"outlined\"\n                      color=\"secondary\"\n                      onClick={() => this.handleDelSubtitleClick()}\n                    >\n                      <DeleteIcon className={classes.rightIcon} />\n                      자막 삭제\n                    </Button>\n                  </Grid>\n                }\n              </Grid>\n            </div>\n          </div>\n        );\n      } else {\n        content = <div>불러오는 중</div>;\n      }\n    }\n    \n    return (\n      <div className=\"App\">\n        <div style={{height: 56}}></div>\n        {content}\n      </div>\n    );\n  }\n}\n\nexport default withStyles(appStyles)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}